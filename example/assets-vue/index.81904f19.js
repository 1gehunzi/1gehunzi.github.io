import{_ as e}from"./read.03cd8dda.js";import{d as a,s as l,r as n,au as t,an as d,aH as i,o,Y as c,b2 as u,_ as s,a5 as r,a4 as b,c as h,M as f,I as g}from"./common.5a7f0626.js";const k={class:"terrain-contain"};var p=e(a({__name:"index",setup(e){const a=window.mapWork,p=l({span:6}),m=l("left"),v=n({enabledWadi:!0,enabledWaiqiege:!1,enabledShendu:!0,txtHeight:50}),_=l([{title:"开挖区域",dataIndex:"name",key:"name",align:"center"},{title:"操作",dataIndex:"caozuo",key:"caozuo",width:80,align:"center"}]),C=l([]),W=l([]),y=l({hideSelectAll:!0,hideDefaultSelections:!0,selectedRowKeys:W,onChange:e=>{W.value=e},onSelect:(e,l)=>{a.showHideArea(e.key,l)}});t((()=>{a.addTerrainClip(v.txtHeight)})),a.eventTabel.on("tableObject",(function(e){C.value=[],d((()=>{C.value=e.table,W.value=e.table.map((e=>e.key))}))}));const x=()=>{a.chkClippingPlanes(v.enabledWadi)},w=()=>{a.chkUnionClippingRegions(v.enabledWaiqiege)},S=()=>{a.chkTestTerrain(v.enabledShendu)};function H(){v.enabledWadi=!0,a.chkClippingPlanes(v.enabledWadi),v.enabledWaiqiege=!1,a.chkUnionClippingRegions(v.enabledWaiqiege)}const A=()=>{H(),a.btnDrawExtent(v.enabledWadi)},q=()=>{H(),a.btnDraw(v.enabledWadi)},T=()=>{H(),a.removeAll(),C.value=[]},U=()=>{a.changeClipHeight(v.txtHeight)};return(e,l)=>{const n=i("a-checkbox"),t=i("a-space"),d=i("a-form-item"),W=i("a-col"),H=i("mars-button"),z=i("mars-input-number"),I=i("mars-icon"),j=i("mars-table"),D=i("a-row"),R=i("mars-dialog");return o(),c(R,{visible:!0,right:"10",top:"10"},{default:u((()=>[s("div",k,[r(D,{gutter:[1,10]},{default:u((()=>[r(W,{span:24},{default:u((()=>[r(d,null,{default:u((()=>[r(t,null,{default:u((()=>[r(n,{checked:v.enabledWadi,"onUpdate:checked":l[0]||(l[0]=e=>v.enabledWadi=e),onChange:x},{default:u((()=>[b(" 是否挖地 ")])),_:1},8,["checked"]),r(n,{checked:v.enabledWaiqiege,"onUpdate:checked":l[1]||(l[1]=e=>v.enabledWaiqiege=e),onChange:w},{default:u((()=>[b(" 是否外切割 ")])),_:1},8,["checked"]),r(n,{checked:v.enabledShendu,"onUpdate:checked":l[2]||(l[2]=e=>v.enabledShendu=e),onChange:S},{default:u((()=>[b(" 深度检测 ")])),_:1},8,["checked"])])),_:1})])),_:1})])),_:1}),r(W,{span:24},{default:u((()=>[r(d,{label:"开挖区域",labelCol:p.value,labelAlign:m.value},{default:u((()=>[r(t,null,{default:u((()=>[r(H,{onClick:A},{default:u((()=>[b("添加矩形")])),_:1}),r(H,{onClick:q},{default:u((()=>[b("添加多边行")])),_:1}),r(H,{onClick:T},{default:u((()=>[b("清除")])),_:1})])),_:1})])),_:1},8,["labelCol","labelAlign"])])),_:1}),r(W,{span:24},{default:u((()=>[r(d,{label:"开挖深度",labelCol:p.value,labelAlign:m.value},{default:u((()=>[r(z,{value:v.txtHeight,"onUpdate:value":l[3]||(l[3]=e=>v.txtHeight=e),onChange:U,step:1,min:-500,max:999},null,8,["value"])])),_:1},8,["labelCol","labelAlign"])])),_:1}),r(W,{span:24},{default:u((()=>[r(j,{pagination:!1,"row-selection":y.value,dataSource:C.value,columns:_.value,size:"small",bordered:""},{bodyCell:u((({column:e,record:l})=>["caozuo"===e.key?(o(),c(t,{key:0},{default:u((()=>[r(I,{icon:"move-one",color:"#f2f2f2",class:"icon-vertical-a",onClick:e=>(e=>{a.flyToGraphic(e.key)})(l)},null,8,["onClick"]),r(I,{icon:"delete",color:"#f2f2f2",class:"icon-vertical-a",onClick:e=>(e=>{a.deletedGraphic(e.key),C.value=C.value.filter((a=>a.key!==e.key)),a.changeTable(C.value)})(l)},null,8,["onClick"])])),_:2},1024)):(o(),h(f,{key:1},[b(g(l.name),1)],64))])),_:1},8,["row-selection","dataSource","columns"])])),_:1})])),_:1})])])),_:1})}}}),[["__scopeId","data-v-4d2ae80e"]]);export{p as default};
