import{L as e}from"./layer-state.482200bb.js";import{d as a,s as t,au as l,an as s,aH as o,o as n,c as d,a5 as i,b2 as c,a4 as u,_ as r,I as h,M as _}from"./common.5a7f0626.js";import"./read.03cd8dda.js";const p={class:"f-pt"},f=["title"],y=a({__name:"index",setup(a){const y=window.mapWork,v=t([{title:"全部",key:0,id:-1,children:[]}]),k=t([]),m=t([]);m.value.push(0);let w={};l((()=>{y.treeEvent.on("tree",(function(e){v.value[0].children=[],w={};const a=[],t=[],l=e.treeData;for(let s=0;s<l.length;s++){const e=l[s];if(e){const l="01-"+Math.random();a.push({title:e.name||"未命名",key:l,id:e._entity._id}),e._entity.show&&t.push(l),w[e._entity._id]=e._entity}}v.value[0].children=a,s((()=>{k.value=t}))}))}));const b=(e,a)=>{const t=a.checked,l=w[a.node.id];-1!==a.node.id?(l.show=t,l._labelEx&&(l._labelEx.show=t),null!=l&&y.flyToEntity()):Object.keys(w).forEach((e=>{const a=w[e];a.show=t,a._labelEx&&(a._labelEx.show=t)}))};const x=()=>{k.value=[],y.shoRailway()},E=()=>{k.value=[],y.showExpressway()},C=()=>{k.value=[],y.showMeteorological()},K=()=>{k.value=[],y.showGDP()},g=()=>{k.value=[],y.showSafetyNotice()};return(a,t)=>{const l=o("mars-button"),s=o("a-space"),y=o("mars-dialog"),w=o("mars-tree");return n(),d(_,null,[i(y,{visible:!0,right:"10",top:"10"},{default:c((()=>[i(s,null,{default:c((()=>[i(l,{onClick:x},{default:c((()=>[u("铁路")])),_:1}),i(l,{onClick:E},{default:c((()=>[u("高速公路线")])),_:1}),i(l,{onClick:C},{default:c((()=>[u("气象等值面")])),_:1}),i(l,{onClick:K},{default:c((()=>[u("国家GDP数据")])),_:1}),i(l,{onClick:g},{default:c((()=>[u("海上安全通告")])),_:1})])),_:1}),r("div",p,[i(e)])])),_:1}),i(y,{visible:!0,right:"10",top:"110",width:"220",customClass:"pannel"},{default:c((()=>[i(w,{checkable:"","tree-data":v.value,onCheck:b,checkedKeys:k.value,"onUpdate:checkedKeys":t[0]||(t[0]=e=>k.value=e),expandedKeys:m.value,"onUpdate:expandedKeys":t[1]||(t[1]=e=>m.value=e)},{title:c((({title:e})=>[r("span",{title:e},h(e),9,f)])),_:1},8,["tree-data","checkedKeys","expandedKeys"])])),_:1})],64)}}});export{y as default};
