import{_ as e,m as t,u as a,aI as i,r as n,o as l,q as r,z as o,f as c,a as d,i as s,c as u,F as m,b as h,t as p,bt as f}from"./common.10acb102.js";import{L as y}from"./layer-state.cf45923a.js";import"./style.0a538c9f.js";const v={class:"f-mb f-pt"},g={class:"f-mb"};var k=e(t({__name:"index",setup(e){const t=window.mapWork,k=[{name:"文字",href:"editor-vue.html?id=graphic/entity/label"},{name:"点",href:"editor-vue.html?id=graphic/entity/point"},{name:"图标点",href:"editor-vue.html?id=graphic/entity/billboard"},{name:"平面",href:"editor-vue.html?id=graphic/entity/plane"},{name:"盒子",href:"editor-vue.html?id=graphic/entity/box"},{name:"圆",href:"editor-vue.html?id=graphic/entity/circle"},{name:"圆锥",href:"editor-vue.html?id=graphic/entity/cylinder"},{name:"球",href:"editor-vue.html?id=graphic/entity/ellipsoid"},{name:"小模型",href:"editor-vue.html?id=graphic/entity/model"}],b=[{name:"线",href:"editor-vue.html?id=graphic/entity/polyline"},{name:"管道",href:"editor-vue.html?id=graphic/entity/polylineVolume"},{name:"走廊",href:"editor-vue.html?id=graphic/entity/corridor"},{name:"墙",href:"editor-vue.html?id=graphic/entity/wall"},{name:"矩形",href:"editor-vue.html?id=graphic/entity/rectangle"},{name:"面",href:"editor-vue.html?id=graphic/entity/polygon"}];function _(){return t.graphicLayer}const w=a([]),I=a([]),x=[{title:"名称",dataIndex:"name",key:"name",align:"center"},{title:"操作",dataIndex:"caozuo",key:"caozuo",width:60,align:"center"}],$={hideSelectAll:!0,hideDefaultSelections:!0,selectedRowKeys:I,onChange:e=>{I.value=e},onSelect:(e,t)=>{const a=_().getGraphicById(e.key);a&&(a.show=t)}};i((()=>{const e=_(),t=e.graphics;w.value=t.map(((e,t)=>({key:e.id,name:z(e)}))),I.value=w.value.map((e=>e.key)),e.on("addGraphic",(function(e){const t=e.graphic;w.value.push({key:t.id,name:z(t)}),I.value=w.value.map((e=>e.key))})),e.on("removeGraphic",(function(e){const t=e.graphic.id,a=w.value.findIndex((e=>e.key===t));w.value.splice(a,1)}))}));let C=0;function z(e){var t,a;return(null==(a=null==(t=null==e?void 0:e.style)?void 0:t.label)?void 0:a.text)?`${e.type} - ${e.style.label.text}`:e.name?`${e.type} - ${e.name}`:e.attr.remark?`${e.type} - ${e.attr.remark}`:`${e.type} - 未命名${++C}`}const G=e=>({onClick:()=>{_().getGraphicById(e.key).flyTo()}});return(e,t)=>{const a=n("a-col"),i=n("mars-button"),I=n("a-row"),C=n("mars-icon"),z=n("a-space"),S=n("mars-table"),B=n("mars-dialog");return l(),r(B,{visible:!0,right:"10",top:"10",width:"450"},{default:o((()=>[c(y),d("div",v,[c(I,null,{default:o((()=>[c(a,{span:4},{default:o((()=>[s("点状:")])),_:1}),c(a,{span:19},{default:o((()=>[(l(!0),u(m,null,h(k,(e=>(l(),u("div",{class:"entity-button-contain",key:e.name},[c(i,{href:e.href,target:"_blank"},{default:o((()=>[s(p(e.name),1)])),_:2},1032,["href"])])))),128))])),_:1})])),_:1})]),d("div",null,[c(I,null,{default:o((()=>[c(a,{span:4},{default:o((()=>[s("线面状:")])),_:1}),c(a,{span:19},{default:o((()=>[(l(!0),u(m,null,h(b,(e=>(l(),u("div",{class:"entity-button-contain",key:e.name},[c(i,{href:e.href,target:"_blank"},{default:o((()=>[s(p(e.name),1)])),_:2},1032,["href"])])))),128))])),_:1})])),_:1})]),d("div",g,[c(S,{pagination:{pageSize:5},customRow:G,"row-selection":$,dataSource:w.value,columns:x,size:"small",bordered:""},{bodyCell:o((({column:e,record:t})=>["caozuo"===e.key?(l(),r(z,{key:0},{default:o((()=>[c(C,{icon:"editor",color:"#f2f2f2",class:"icon-vertical-a",onClick:f((e=>function(e){const t=_(),a=t.getGraphicById(e.key);t.startEditing(a)}(t)),["stop"])},null,8,["onClick"]),c(C,{icon:"delete",color:"#f2f2f2",class:"icon-vertical-a",onClick:f((e=>(e=>{const t=_().getGraphicById(e.key);t&&t.remove(!0)})(t)),["stop"])},null,8,["onClick"])])),_:2},1024)):(l(),u(m,{key:1},[s(p(t.name),1)],64))])),_:1},8,["dataSource"])])])),_:1})}}}),[["__scopeId","data-v-2585fa9a"]]);export{k as default};
