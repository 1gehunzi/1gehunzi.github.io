import{L as e}from"./layer-state.482200bb.js";import{d as a,s as t,an as s,aH as l,o,c,a5 as n,b2 as d,a4 as i,_ as r,I as h,M as u}from"./common.5a7f0626.js";import"./read.03cd8dda.js";const k={class:"f-pt"},p=["title"],f=a({__name:"index",setup(a){const f=window.mapWork,y=t([{title:"全部",key:0,id:-1,children:[]}]),v=t([]),m=t([]);m.value.push(0);const w={};f.treeEvent.on("tree",(e=>{!function(e){const a=e.treeData,t=[],l=[];for(let s=0;s<a.length;s++){const e=a[s].graphic;if(e){const a={title:e.name||"未命名",key:e.id};t.push(a),l.push(a.key),w[a.key]=e}}y.value[0].children=t,s((()=>{v.value=l}))}(e)}));const _=(e,a)=>{const t=a.node;!t.children&&t.checked&&(w[t.key].show=!1),t.children||t.checked||(w[t.key].show=!0),-1===t.id&&t.checked&&t.children.forEach((e=>{w[e.key].show=!1})),-1!==t.id||t.checked||t.children.forEach((e=>{w[e.key].show=!0})),f.flyToEntity()};const b=()=>{v.value=[],f.shoRailway()},g=()=>{v.value=[],f.showExpressway()},C=()=>{v.value=[],f.showMeteorological()},x=()=>{v.value=[],f.showGDP()},K=()=>{v.value=[],f.showSafetyNotice()};return(a,t)=>{const s=l("mars-button"),f=l("a-space"),w=l("mars-dialog"),E=l("mars-tree");return o(),c(u,null,[n(w,{visible:!0,right:"10",top:"10",height:"90"},{default:d((()=>[n(f,null,{default:d((()=>[n(s,{onClick:b},{default:d((()=>[i("铁路")])),_:1}),n(s,{onClick:g},{default:d((()=>[i("高速公路")])),_:1}),n(s,{onClick:C},{default:d((()=>[i("气象等值面")])),_:1}),n(s,{onClick:x},{default:d((()=>[i("国家GDP数据")])),_:1}),n(s,{onClick:K},{default:d((()=>[i("海上安全通告")])),_:1})])),_:1}),r("div",k,[n(e)])])),_:1}),n(w,{visible:!0,right:"10",top:"120",customClass:"pannel"},{default:d((()=>[n(E,{checkable:"","tree-data":y.value,onCheck:_,checkedKeys:v.value,"onUpdate:checkedKeys":t[0]||(t[0]=e=>v.value=e),expandedKeys:m.value,"onUpdate:expandedKeys":t[1]||(t[1]=e=>m.value=e)},{title:d((({title:e})=>[r("span",{title:e},h(e),9,p)])),_:1},8,["tree-data","checkedKeys","expandedKeys"])])),_:1})],64)}}});export{f as default};
