import{L as e}from"./layer-state.cf45923a.js";import{m as a,u as t,n as s,r as c,o as i,c as o,f as r,z as l,a as d,t as n,F as h}from"./common.10acb102.js";import"./style.0a538c9f.js";const p=["title"],u=a({__name:"index",setup(a){const u=window.mapWork,m=t([{title:"全部",key:0,id:-1,children:[]}]),f=t([]),y=t([]);y.value.push(0);let v={};u.treeEvent.on("tree",(e=>{!function(e){m.value[0].children=[],v={};const a=[],t=[];for(let s=0;s<e.length;s++){const c=e[s];if(c){const e="01-"+Math.random();a.push({title:c.airportName,key:e,id:c.graphic.id}),c.graphic.show&&t.push(e),v[c.graphic.id]=c}}m.value[0].children=a,s((()=>{f.value=t}))}(e.data)}));const g=(e,a)=>{const t=a.checked,s=v[a.node.id];-1!==a.node.id?t?(s.graphic.show=t,s.graphic.flyTo()):s.graphic.show=t:Object.keys(v).forEach((e=>{v[e].graphic.show=t}))};return(a,t)=>{const s=c("mars-dialog"),u=c("mars-tree");return i(),o(h,null,[r(s,{visible:!0,right:"10",top:"10"},{default:l((()=>[r(e)])),_:1}),r(s,{visible:!0,right:"10",top:"64",width:"250"},{default:l((()=>[r(u,{checkable:"","tree-data":m.value,onCheck:g,checkedKeys:f.value,"onUpdate:checkedKeys":t[0]||(t[0]=e=>f.value=e),expandedKeys:y.value,"onUpdate:expandedKeys":t[1]||(t[1]=e=>y.value=e)},{title:l((({title:e})=>[d("span",{class:"tree-style",title:e},n(e),9,p)])),_:1},8,["tree-data","checkedKeys","expandedKeys"])])),_:1})],64)}}});export{u as default};
