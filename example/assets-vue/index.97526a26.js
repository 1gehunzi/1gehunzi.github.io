import{L as e}from"./layer-state.482200bb.js";import{d as a,s as t,an as s,aH as d,o as i,c as o,a5 as r,b2 as c,_ as l,I as n,M as h}from"./common.5a7f0626.js";import"./read.03cd8dda.js";const p=["title"],u=a({__name:"index",setup(a){const u=window.mapWork,m=t([{title:"全部",key:0,id:-1,children:[]}]),v=t([]),y=t([]);y.value.push(0);let f={};u.treeEvent.on("tree",(e=>{!function(e){m.value[0].children=[],f={};const a=[],t=[];for(let s=0;s<e.length;s++){const d=e[s];if(d){const e="01-"+Math.random();a.push({title:d.airportName,key:e,id:d.graphic.id}),d.graphic.show&&t.push(e),f[d.graphic.id]=d}}m.value[0].children=a,s((()=>{v.value=t}))}(e.data)}));const g=(e,a)=>{const t=a.checked,s=f[a.node.id];-1!==a.node.id?t?(s.graphic.show=t,s.graphic.flyTo()):s.graphic.show=t:Object.keys(f).forEach((e=>{f[e].graphic.show=t}))};return(a,t)=>{const s=d("mars-dialog"),u=d("mars-tree");return i(),o(h,null,[r(s,{visible:!0,right:"10",top:"10"},{default:c((()=>[r(e)])),_:1}),r(s,{visible:!0,right:"10",top:"64",width:"250"},{default:c((()=>[r(u,{checkable:"","tree-data":m.value,onCheck:g,checkedKeys:v.value,"onUpdate:checkedKeys":t[0]||(t[0]=e=>v.value=e),expandedKeys:y.value,"onUpdate:expandedKeys":t[1]||(t[1]=e=>y.value=e)},{title:c((({title:e})=>[l("span",{class:"tree-style",title:e},n(e),9,p)])),_:1},8,["tree-data","checkedKeys","expandedKeys"])])),_:1})],64)}}});export{u as default};
