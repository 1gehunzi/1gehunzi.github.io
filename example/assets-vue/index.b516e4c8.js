import{d as e,r as l,s as a,aH as t,o as s,c as o,a5 as d,b2 as u,_ as n,b4 as i,a4 as f,bn as c,Y as p,Z as m,M as h}from"./common.5a7f0626.js";import{f as r}from"./fixedRoute-info.7eda4c00.js";import{_ as v}from"./read.03cd8dda.js";const w={class:"f-mb f-tac"},_={class:"f-mb"},g={class:"f-mb"},R={class:"f-mb"},S={class:"f-mb"};var k=v(e({__name:"index",setup(e){const v=window.mapWork,k=l({isStart:!1,isPause:!1,select:"gs",showFollowedX:"1",showFollowedZ:"",followedX:0,followedZ:0,offsetZ:0,offsetY:0,offsetX:0,customHeading:!1,slideHeadingStep:0,customPitch:!1,slidePitchStep:0,customRoll:!1,slideRollStep:0}),x=()=>{v.fixedRoute.start(),Z()},b=()=>{v.fixedRoute.pause(),Z()},C=()=>{v.fixedRoute.proceed(),Z()},P=()=>{v.fixedRoute.stop(),Z()};function Z(){setTimeout((()=>{k.isStart=v.fixedRoute.isStart,k.isPause=v.fixedRoute.isPause}),100)}const y=a([{value:"",label:"自由视角"},{value:"gs",label:"跟随视角"},{value:"dy",label:"锁定第一视角"},{value:"sd",label:"锁定上帝视角"}]),X=()=>{switch(k.showFollowedX="",k.showFollowedZ="",k.select){case"gs":k.showFollowedX="1";break;case"dy":k.showFollowedX="1",k.showFollowedZ="1",k.followedX=200,k.followedZ=50,k.offsetZ=0,k.offsetY=0,k.offsetX=0;break;case"sd":k.showFollowedZ="1";Number(k.followedZ)<500&&(k.followedZ=500);break}v.updateCameraSetting(k)},F=()=>{v.updateCameraSetting(k)},H=()=>{k.customHeading?v.fixedRoute.model.heading=k.slideHeadingStep:v.fixedRoute.model.heading=void 0},U=()=>{v.fixedRoute.model.heading=k.slideHeadingStep},Y=()=>{k.customPitch?v.fixedRoute.model.pitch=k.slidePitchStep:v.fixedRoute.model.pitch=void 0},j=()=>{v.fixedRoute.model.pitch=k.slidePitchStep},I=()=>{k.customPitch?v.fixedRoute.model.roll=k.slideRollStep:v.fixedRoute.model.roll=void 0},M=()=>{v.fixedRoute.model.roll=k.slideRollStep};return(e,l)=>{const a=t("mars-button"),v=t("a-space"),Z=t("a-col"),N=t("mars-select"),T=t("mars-input-number"),W=t("a-row"),q=t("mars-switch"),z=t("mars-slider"),A=t("mars-dialog");return s(),o(h,null,[d(A,{visible:!0,width:"300",right:"10",top:"10"},{default:u((()=>[n("div",w,[d(v,null,{default:u((()=>[i(d(a,{onClick:x},{default:u((()=>[f("开始")])),_:1},512),[[c,!k.isStart]]),i(d(a,{onClick:b},{default:u((()=>[f("暂停")])),_:1},512),[[c,k.isStart&&!k.isPause]]),i(d(a,{onClick:C},{default:u((()=>[f("继续")])),_:1},512),[[c,k.isStart&&k.isPause]]),i(d(a,{onClick:P},{default:u((()=>[f("停止")])),_:1},512),[[c,k.isStart]])])),_:1})]),n("div",_,[d(W,{gutter:[0,10]},{default:u((()=>[d(Z,{span:8},{default:u((()=>[f("漫游视角:")])),_:1}),d(Z,{span:11},{default:u((()=>[d(N,{onChange:X,value:k.select,"onUpdate:value":l[0]||(l[0]=e=>k.select=e),options:y.value},null,8,["value","options"])])),_:1}),i(d(Z,{span:8,title:"距离漫游对象的水平距离，单位：米"},{default:u((()=>[f("视角距离:")])),_:1},512),[[c,"1"===k.showFollowedX]]),i(d(Z,{span:11},{default:u((()=>[d(T,{onChange:F,value:k.followedX,"onUpdate:value":l[1]||(l[1]=e=>k.followedX=e),step:1},null,8,["value"])])),_:1},512),[[c,"1"===k.showFollowedX]]),i(d(Z,{span:8,title:"距离漫游对象的高度，单位：米"},{default:u((()=>[f("视角高度:")])),_:1},512),[[c,"1"===k.showFollowedZ]]),i(d(Z,{span:11},{default:u((()=>[d(T,{onChange:F,value:k.followedZ,"onUpdate:value":l[2]||(l[2]=e=>k.followedZ=e),step:1},null,8,["value"])])),_:1},512),[[c,"1"===k.showFollowedZ]]),i(d(Z,{span:8,title:"偏离漫游对象的高度，单位：米"},{default:u((()=>[f("高度偏移值:")])),_:1},512),[[c,"dy"===k.select]]),i(d(Z,{span:11},{default:u((()=>[d(T,{onChange:F,value:k.offsetZ,"onUpdate:value":l[3]||(l[3]=e=>k.offsetZ=e),step:1},null,8,["value"])])),_:1},512),[[c,"dy"===k.select]]),i(d(Z,{span:8,title:"偏离漫游对象的横向值，单位：米"},{default:u((()=>[f("横向偏移值:")])),_:1},512),[[c,"dy"===k.select]]),i(d(Z,{span:11},{default:u((()=>[d(T,{onChange:F,value:k.offsetY,"onUpdate:value":l[4]||(l[4]=e=>k.offsetY=e),step:1},null,8,["value"])])),_:1},512),[[c,"dy"===k.select]]),i(d(Z,{span:8,title:"偏离漫游对象的前后值，单位：米"},{default:u((()=>[f("前后偏移值:")])),_:1},512),[[c,"dy"===k.select]]),i(d(Z,{span:11},{default:u((()=>[d(T,{onChange:F,value:k.offsetX,"onUpdate:value":l[5]||(l[5]=e=>k.offsetX=e),step:1},null,8,["value"])])),_:1},512),[[c,"dy"===k.select]])])),_:1})]),n("div",g,[d(W,{gutter:[0,10]},{default:u((()=>[d(Z,{span:8},{default:u((()=>[f("heading值:")])),_:1}),d(Z,{span:5},{default:u((()=>[d(q,{checked:k.customHeading,"onUpdate:checked":l[6]||(l[6]=e=>k.customHeading=e),onChange:H},null,8,["checked"])])),_:1}),k.customHeading?(s(),p(Z,{key:0,span:6},{default:u((()=>[d(z,{class:"sliderlen",onChange:U,value:k.slideHeadingStep,"onUpdate:value":l[7]||(l[7]=e=>k.slideHeadingStep=e),min:0,max:360,step:.01},null,8,["value","step"])])),_:1})):m("",!0),k.customHeading?m("",!0):(s(),p(Z,{key:1,span:8},{default:u((()=>[f(" 根据路线自动 ")])),_:1}))])),_:1})]),n("div",R,[d(W,{gutter:[0,10]},{default:u((()=>[d(Z,{span:8},{default:u((()=>[f("pitch值:")])),_:1}),d(Z,{span:5},{default:u((()=>[d(q,{checked:k.customPitch,"onUpdate:checked":l[8]||(l[8]=e=>k.customPitch=e),onChange:Y},null,8,["checked"])])),_:1}),k.customPitch?(s(),p(Z,{key:0,span:6},{default:u((()=>[d(z,{class:"sliderlen",onChange:j,value:k.slidePitchStep,"onUpdate:value":l[9]||(l[9]=e=>k.slidePitchStep=e),min:0,max:360,step:.01},null,8,["value","step"])])),_:1})):m("",!0),k.customPitch?m("",!0):(s(),p(Z,{key:1,span:8},{default:u((()=>[f(" 根据路线自动 ")])),_:1}))])),_:1})]),n("div",S,[d(W,{gutter:[0,10]},{default:u((()=>[d(Z,{span:8},{default:u((()=>[f("roll值:")])),_:1}),d(Z,{span:5},{default:u((()=>[d(q,{checked:k.customRoll,"onUpdate:checked":l[10]||(l[10]=e=>k.customRoll=e),onChange:I},null,8,["checked"])])),_:1}),k.customRoll?(s(),p(Z,{key:0,span:6},{default:u((()=>[d(z,{class:"sliderlen",onChange:M,value:k.slideRollStep,"onUpdate:value":l[11]||(l[11]=e=>k.slideRollStep=e),min:0,max:360,step:.01},null,8,["value","step"])])),_:1})):m("",!0),k.customRoll?m("",!0):(s(),p(Z,{key:1,span:8},{default:u((()=>[f(" 根据路线自动 ")])),_:1}))])),_:1})])])),_:1}),d(r)],64)}}}),[["__scopeId","data-v-9b0963ac"]]);export{k as default};
