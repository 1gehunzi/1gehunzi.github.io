import{L as e}from"./layer-state.11e2f61e.js";import{m as a,u as t,n as s,r as i,o,c as r,f as c,z as l,a as d,t as n,F as h}from"./common.10acb102.js";import"./style.795f3750.js";const p=["title"],u=a({__name:"index",setup(a){const u=window.mapWork,m=t([{title:"全部",key:0,id:-1,children:[]}]),f=t([]),y=t([]);y.value.push(0);let v={};u.treeEvent.on("tree",(e=>{!function(e){m.value[0].children=[],v={};const a=[],t=[];for(let s=0;s<e.length;s++){const i=e[s];if(i){const e="01-"+Math.random();a.push({title:i.airportName,key:e,id:i.graphic.id}),i.graphic.show&&t.push(e),v[i.graphic.id]=i}}m.value[0].children=a,s((()=>{f.value=t}))}(e.data)}));const g=(e,a)=>{const t=a.checked,s=v[a.node.id];-1!==a.node.id?t?(s.graphic.show=t,s.graphic.flyTo()):s.graphic.show=t:Object.keys(v).forEach((e=>{v[e].graphic.show=t}))};return(a,t)=>{const s=i("mars-dialog"),u=i("mars-tree");return o(),r(h,null,[c(s,{visible:!0,right:"10",top:"10"},{default:l((()=>[c(e)])),_:1}),c(s,{visible:!0,right:"10",top:"64",width:"250"},{default:l((()=>[c(u,{checkable:"","tree-data":m.value,onCheck:g,checkedKeys:f.value,"onUpdate:checkedKeys":t[0]||(t[0]=e=>f.value=e),expandedKeys:y.value,"onUpdate:expandedKeys":t[1]||(t[1]=e=>y.value=e)},{title:l((({title:e})=>[d("span",{class:"tree-style",title:e},n(e),9,p)])),_:1},8,["tree-data","checkedKeys","expandedKeys"])])),_:1})],64)}}});export{u as default};
