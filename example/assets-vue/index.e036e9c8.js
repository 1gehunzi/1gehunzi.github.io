import{_ as e,m as a,u as l,S as n,aI as t,n as i,r as d,o,q as c,z as u,a as s,f as r,i as b,c as h,F as g,t as f}from"./common.10acb102.js";const k={class:"terrain-contain"};var p=e(a({__name:"index",setup(e){const a=window.mapWork,p=l({span:6}),m=l("left"),v=n({enabledWadi:!0,enabledWaiqiege:!1,enabledShendu:!0,txtHeight:50}),_=l([{title:"开挖区域",dataIndex:"name",key:"name",align:"center"},{title:"操作",dataIndex:"caozuo",key:"caozuo",width:80,align:"center"}]),C=l([]),W=l([]),y=l({hideSelectAll:!0,hideDefaultSelections:!0,selectedRowKeys:W,onChange:e=>{W.value=e},onSelect:(e,l)=>{a.showHideArea(e.key,l)}});t((()=>{a.addTerrainClip(v.txtHeight)})),a.eventTabel.on("tableObject",(function(e){C.value=[],i((()=>{C.value=e.table,W.value=e.table.map((e=>e.key))}))}));const x=()=>{a.chkClippingPlanes(v.enabledWadi)},w=()=>{a.chkUnionClippingRegions(v.enabledWaiqiege)},S=()=>{a.chkTestTerrain(v.enabledShendu)};function q(){v.enabledWadi=!0,a.chkClippingPlanes(v.enabledWadi),v.enabledWaiqiege=!1,a.chkUnionClippingRegions(v.enabledWaiqiege)}const A=()=>{q(),a.btnDrawExtent(v.enabledWadi)},H=()=>{q(),a.btnDraw(v.enabledWadi)},T=()=>{q(),a.removeAll(),C.value=[]},U=()=>{a.changeClipHeight(v.txtHeight)};return(e,l)=>{const n=d("a-checkbox"),t=d("a-space"),i=d("a-form-item"),W=d("a-col"),q=d("mars-button"),z=d("mars-input-number"),I=d("mars-icon"),D=d("mars-table"),R=d("a-row"),j=d("mars-dialog");return o(),c(j,{visible:!0,right:"10",top:"10"},{default:u((()=>[s("div",k,[r(R,{gutter:[1,10]},{default:u((()=>[r(W,{span:24},{default:u((()=>[r(i,null,{default:u((()=>[r(t,null,{default:u((()=>[r(n,{checked:v.enabledWadi,"onUpdate:checked":l[0]||(l[0]=e=>v.enabledWadi=e),onChange:x},{default:u((()=>[b(" 是否挖地 ")])),_:1},8,["checked"]),r(n,{checked:v.enabledWaiqiege,"onUpdate:checked":l[1]||(l[1]=e=>v.enabledWaiqiege=e),onChange:w},{default:u((()=>[b(" 是否外切割 ")])),_:1},8,["checked"]),r(n,{checked:v.enabledShendu,"onUpdate:checked":l[2]||(l[2]=e=>v.enabledShendu=e),onChange:S},{default:u((()=>[b(" 深度检测 ")])),_:1},8,["checked"])])),_:1})])),_:1})])),_:1}),r(W,{span:24},{default:u((()=>[r(i,{label:"开挖区域",labelCol:p.value,labelAlign:m.value},{default:u((()=>[r(t,null,{default:u((()=>[r(q,{onClick:A},{default:u((()=>[b("添加矩形")])),_:1}),r(q,{onClick:H},{default:u((()=>[b("添加多边行")])),_:1}),r(q,{onClick:T},{default:u((()=>[b("清除")])),_:1})])),_:1})])),_:1},8,["labelCol","labelAlign"])])),_:1}),r(W,{span:24},{default:u((()=>[r(i,{label:"开挖深度",labelCol:p.value,labelAlign:m.value},{default:u((()=>[r(z,{value:v.txtHeight,"onUpdate:value":l[3]||(l[3]=e=>v.txtHeight=e),onChange:U,step:1,min:-500,max:999},null,8,["value"])])),_:1},8,["labelCol","labelAlign"])])),_:1}),r(W,{span:24},{default:u((()=>[r(D,{pagination:!1,"row-selection":y.value,dataSource:C.value,columns:_.value,size:"small",bordered:""},{bodyCell:u((({column:e,record:l})=>["caozuo"===e.key?(o(),c(t,{key:0},{default:u((()=>[r(I,{icon:"move-one",color:"#f2f2f2",class:"icon-vertical-a",onClick:e=>(e=>{a.flyToGraphic(e.key)})(l)},null,8,["onClick"]),r(I,{icon:"delete",color:"#f2f2f2",class:"icon-vertical-a",onClick:e=>(e=>{a.deletedGraphic(e.key),C.value=C.value.filter((a=>a.key!==e.key)),a.changeTable(C.value)})(l)},null,8,["onClick"])])),_:2},1024)):(o(),h(g,{key:1},[b(f(l.name),1)],64))])),_:1},8,["row-selection","dataSource","columns"])])),_:1})])),_:1})])])),_:1})}}}),[["__scopeId","data-v-4d2ae80e"]]);export{p as default};
