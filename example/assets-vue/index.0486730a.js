import{d as e,s as a,au as t,aH as i,o as n,Y as l,b2 as r,a5 as o,_ as d,a4 as c,c as s,M as u,aF as m,I as h,bp as p}from"./common.5a7f0626.js";import{L as f}from"./layer-state.482200bb.js";import{_ as y}from"./read.03cd8dda.js";const v={class:"f-mb f-pt"},g={class:"f-mb"};var k=y(e({__name:"index",setup(e){const y=window.mapWork,k=[{name:"文字",href:"editor-vue.html?id=graphic/entity/label"},{name:"点",href:"editor-vue.html?id=graphic/entity/point"},{name:"图标点",href:"editor-vue.html?id=graphic/entity/billboard"},{name:"平面",href:"editor-vue.html?id=graphic/entity/plane"},{name:"盒子",href:"editor-vue.html?id=graphic/entity/box"},{name:"圆",href:"editor-vue.html?id=graphic/entity/circle"},{name:"圆锥",href:"editor-vue.html?id=graphic/entity/cylinder"},{name:"球",href:"editor-vue.html?id=graphic/entity/ellipsoid"},{name:"小模型",href:"editor-vue.html?id=graphic/entity/model"}],b=[{name:"线",href:"editor-vue.html?id=graphic/entity/polyline"},{name:"管道",href:"editor-vue.html?id=graphic/entity/polylineVolume"},{name:"走廊",href:"editor-vue.html?id=graphic/entity/corridor"},{name:"墙",href:"editor-vue.html?id=graphic/entity/wall"},{name:"矩形",href:"editor-vue.html?id=graphic/entity/rectangle"},{name:"面",href:"editor-vue.html?id=graphic/entity/polygon"}];function _(){return y.graphicLayer}const w=a([]),I=a([]),x=[{title:"名称",dataIndex:"name",key:"name",align:"center"},{title:"操作",dataIndex:"caozuo",key:"caozuo",width:60,align:"center"}],$={hideSelectAll:!0,hideDefaultSelections:!0,selectedRowKeys:I,onChange:e=>{I.value=e},onSelect:(e,a)=>{const t=_().getGraphicById(e.key);t&&(t.show=a)}};t((()=>{const e=_(),a=e.graphics;w.value=a.map(((e,a)=>({key:e.id,name:G(e)}))),I.value=w.value.map((e=>e.key)),e.on("addGraphic",(function(e){const a=e.graphic;w.value.push({key:a.id,name:G(a)}),I.value=w.value.map((e=>e.key))})),e.on("removeGraphic",(function(e){const a=e.graphic.id,t=w.value.findIndex((e=>e.key===a));w.value.splice(t,1)}))}));let C=0;function G(e){var a,t;return(null==(t=null==(a=null==e?void 0:e.style)?void 0:a.label)?void 0:t.text)?`${e.type} - ${e.style.label.text}`:e.name?`${e.type} - ${e.name}`:e.attr.remark?`${e.type} - ${e.attr.remark}`:`${e.type} - 未命名${++C}`}const S=e=>({onClick:()=>{_().getGraphicById(e.key).flyTo()}});return(e,a)=>{const t=i("a-col"),y=i("mars-button"),I=i("a-row"),C=i("mars-icon"),G=i("a-space"),z=i("mars-table"),B=i("mars-dialog");return n(),l(B,{visible:!0,right:"10",top:"10",width:"450"},{default:r((()=>[o(f),d("div",v,[o(I,null,{default:r((()=>[o(t,{span:4},{default:r((()=>[c("点状:")])),_:1}),o(t,{span:19},{default:r((()=>[(n(!0),s(u,null,m(k,(e=>(n(),s("div",{class:"entity-button-contain",key:e.name},[o(y,{href:e.href,target:"_blank"},{default:r((()=>[c(h(e.name),1)])),_:2},1032,["href"])])))),128))])),_:1})])),_:1})]),d("div",null,[o(I,null,{default:r((()=>[o(t,{span:4},{default:r((()=>[c("线面状:")])),_:1}),o(t,{span:19},{default:r((()=>[(n(!0),s(u,null,m(b,(e=>(n(),s("div",{class:"entity-button-contain",key:e.name},[o(y,{href:e.href,target:"_blank"},{default:r((()=>[c(h(e.name),1)])),_:2},1032,["href"])])))),128))])),_:1})])),_:1})]),d("div",g,[o(z,{pagination:{pageSize:5},customRow:S,"row-selection":$,dataSource:w.value,columns:x,size:"small",bordered:""},{bodyCell:r((({column:e,record:a})=>["caozuo"===e.key?(n(),l(G,{key:0},{default:r((()=>[o(C,{icon:"editor",color:"#f2f2f2",class:"icon-vertical-a",onClick:p((e=>function(e){const a=_(),t=a.getGraphicById(e.key);a.startEditing(t)}(a)),["stop"])},null,8,["onClick"]),o(C,{icon:"delete",color:"#f2f2f2",class:"icon-vertical-a",onClick:p((e=>(e=>{const a=_().getGraphicById(e.key);a&&a.remove(!0)})(a)),["stop"])},null,8,["onClick"])])),_:2},1024)):(n(),s(u,{key:1},[c(h(a.name),1)],64))])),_:1},8,["dataSource"])])])),_:1})}}}),[["__scopeId","data-v-2585fa9a"]]);export{k as default};
