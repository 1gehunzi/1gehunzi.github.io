import{L as e}from"./layer-state.cf45923a.js";import{m as a,u as t,n as s,r as l,o,c,f as n,z as i,i as d,a as r,t as h,F as u}from"./common.10acb102.js";import"./style.0a538c9f.js";const k={class:"f-pt"},f=["title"],p=a({__name:"index",setup(a){const p=window.mapWork,y=t([{title:"全部",key:0,id:-1,children:[]}]),v=t([]),m=t([]);m.value.push(0);const w={};p.treeEvent.on("tree",(e=>{!function(e){const a=e.treeData,t=[],l=[];for(let s=0;s<a.length;s++){const e=a[s].graphic;if(e){const a={title:e.name||"未命名",key:e.id};t.push(a),l.push(a.key),w[a.key]=e}}y.value[0].children=t,s((()=>{v.value=l}))}(e)}));const _=(e,a)=>{const t=a.node;!t.children&&t.checked&&(w[t.key].show=!1),t.children||t.checked||(w[t.key].show=!0),-1===t.id&&t.checked&&t.children.forEach((e=>{w[e.key].show=!1})),-1!==t.id||t.checked||t.children.forEach((e=>{w[e.key].show=!0})),p.flyToEntity()};const g=()=>{v.value=[],p.shoRailway()},C=()=>{v.value=[],p.showExpressway()},x=()=>{v.value=[],p.showMeteorological()},K=()=>{v.value=[],p.showGDP()},b=()=>{v.value=[],p.showSafetyNotice()};return(a,t)=>{const s=l("mars-button"),p=l("a-space"),w=l("mars-dialog"),E=l("mars-tree");return o(),c(u,null,[n(w,{visible:!0,right:"10",top:"10",height:"90"},{default:i((()=>[n(p,null,{default:i((()=>[n(s,{onClick:g},{default:i((()=>[d("铁路")])),_:1}),n(s,{onClick:C},{default:i((()=>[d("高速公路")])),_:1}),n(s,{onClick:x},{default:i((()=>[d("气象等值面")])),_:1}),n(s,{onClick:K},{default:i((()=>[d("国家GDP数据")])),_:1}),n(s,{onClick:b},{default:i((()=>[d("海上安全通告")])),_:1})])),_:1}),r("div",k,[n(e)])])),_:1}),n(w,{visible:!0,right:"10",top:"120",customClass:"pannel"},{default:i((()=>[n(E,{checkable:"","tree-data":y.value,onCheck:_,checkedKeys:v.value,"onUpdate:checkedKeys":t[0]||(t[0]=e=>v.value=e),expandedKeys:m.value,"onUpdate:expandedKeys":t[1]||(t[1]=e=>m.value=e)},{title:i((({title:e})=>[r("span",{title:e},h(e),9,f)])),_:1},8,["tree-data","checkedKeys","expandedKeys"])])),_:1})],64)}}});export{p as default};
