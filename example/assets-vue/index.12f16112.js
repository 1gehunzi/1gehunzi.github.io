import{d as a,s as l,X as e,aH as s,o as t,Y as n,b2 as u,_ as d,a5 as r,a4 as o,b4 as c,I as i,bn as v,B as f,x as p,aC as m,aA as g}from"./common.5a7f0626.js";import{_,b}from"./read.03cd8dda.js";const h=a=>(m("data-v-6c14768c"),a=a(),g(),a),k={class:"arcgis-contain"},C={class:"f-mb"},w=h((()=>d("span",null,"名称",-1))),y={class:"f-mb"},x=h((()=>d("span",null,"范围",-1))),I={class:"f-mb"},P=h((()=>d("span",null,"操作",-1))),S={class:"f-mb"},T={class:"f-mb querybar-fr"};var j=_(a({__name:"index",setup(a){const m=window.mapWork,g=l(""),_=l(0),h=l(0),j=l(0),q=e((()=>A.value.length>0)),A=l([]),U=l([{title:"名称",dataIndex:"name",key:"name",align:"center"},{title:"类型",dataIndex:"type",key:"type",align:"center",width:50},{title:"地址",dataIndex:"address",key:"address",align:"center"}]);m.eventTarget.on("beforUI",(function(a){A.value=[],a.list.forEach(((a,l)=>{A.value.push({key:l,name:a["项目名称"],type:a["设施类型"],address:a["具体位置"],graphic:a.graphic})}))})),m.eventTarget.on("result",(a=>{_.value=a.result.allCount,j.value=a.result.allPage,h.value=a.result.pageIndex}));const z=a=>({onClick:()=>{null!=a.graphic?m.flyToGraphic(p(a.graphic)):b(a.name+" 无经纬度坐标信息！")}}),B=()=>{m.drawRectangle()},E=()=>{m.drawCircle()},F=()=>{m.drawPolygon()},G=()=>{m.query(p(g.value))},H=()=>{A.value=[],m.clearAll()},N=()=>{m.showFirstPage()},R=()=>{m.showPretPage()},W=()=>{m.showNextPage()};return(a,l)=>{const e=s("mars-input"),p=s("a-space"),m=s("mars-button"),b=s("mars-table"),X=s("a-form"),Y=s("mars-dialog");return t(),n(Y,{visible:!0,right:"10",top:"10",width:"360"},{default:u((()=>[d("div",k,[r(X,null,{default:u((()=>[d("div",C,[r(p,null,{default:u((()=>[w,r(e,{class:"inputServe",value:g.value,"onUpdate:value":l[0]||(l[0]=a=>g.value=a),placeholder:"请输入查询关键字"},null,8,["value"])])),_:1})]),d("div",y,[r(p,null,{default:u((()=>[x,r(m,{onClick:B},{default:u((()=>[o(" 框选范围 ")])),_:1}),r(m,{onClick:E},{default:u((()=>[o("圆形范围")])),_:1}),r(m,{onClick:F},{default:u((()=>[o("多边形范围")])),_:1})])),_:1})]),d("div",I,[r(p,null,{default:u((()=>[P,r(m,{onClick:G},{default:u((()=>[o("查询")])),_:1}),r(m,{onClick:H},{default:u((()=>[o("清除")])),_:1})])),_:1})]),c(d("div",null,[d("div",S,[r(b,{pagination:!1,dataSource:A.value,columns:U.value,"custom-row":z,size:"small",bordered:""},null,8,["dataSource","columns"])]),d("div",T,[r(p,null,{default:u((()=>[d("span",null,"找到"+i(_.value)+"条结果",1),o(" 第"+i(h.value)+"/"+i(j.value)+"页 ",1),r(m,{class:"button",onClick:N},{default:u((()=>[o("首页")])),_:1}),r(m,{class:"button",onClick:R},{default:u((()=>[o("<")])),_:1}),r(m,{class:"button",onClick:W},{default:u((()=>[o(">")])),_:1})])),_:1})])],512),[[v,f(q)]])])),_:1})])])),_:1})}}}),[["__scopeId","data-v-6c14768c"]]);export{j as default};
