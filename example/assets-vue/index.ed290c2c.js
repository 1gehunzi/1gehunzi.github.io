import{d as e,r as a,au as t,aH as o,o as n,Y as s,b2 as i,_ as c,a5 as m,a4 as l,c as r,M as d,aF as g,F as u,b4 as b,bn as f,I as p}from"./common.5a7f0626.js";import{_ as k,b as O}from"./read.03cd8dda.js";const j={class:"f-mb f-tac"},v={class:"bookmarkView"},I=["src","onClick"];var _=k(e({__name:"index",setup(e){const k=window.mapWork,_=a({input:"",found:!1,imgObject:[{name:"没有匹配的值",img:"",center:""}]});t((()=>{!function(){try{const e=JSON.parse(localStorage.getItem("bookmark"));if(e&&e.length>0){console.log("历史数据",e);for(let a=0;a<e.length;a++){const t=e[a];""===_.imgObject[0].img&&(_.imgObject.splice(0,1),_.found=!0),_.imgObject.push(t)}}}catch(e){}}()}));const h=()=>{const e=_.input,a=_.imgObject;e?(""===a[0].img&&(_.imgObject.splice(0,1),_.found=!0),_.imgObject.some((a=>a.name===e))?O(e+" 已存在，请更换名称!"):(k.butAddTxtName(e),_.input="")):O("请输入名称")};k.eventTarget.on("addImgObject",(e=>{_.imgObject.push(e.item),localStorage.setItem("bookmark",JSON.stringify(_.imgObject))}));return(e,a)=>{const t=o("mars-input"),O=o("mars-button"),S=o("a-space"),w=o("mars-icon"),y=o("mars-dialog");return n(),s(y,{visible:!0,right:"10",top:"10",bottom:"40"},{default:i((()=>[c("div",j,[m(S,null,{default:i((()=>[m(t,{value:_.input,"onUpdate:value":a[0]||(a[0]=e=>_.input=e),placeholder:"输入名称"},null,8,["value"]),m(O,{onClick:h},{default:i((()=>[l("添加")])),_:1})])),_:1})]),c("div",v,[(n(!0),r(d,null,g(_.imgObject,((e,a)=>(n(),r("div",{class:u(_.found?"addNewImg":"noFound"),key:e.name},[b(c("img",{class:"markImg",src:e.img,onClick:a=>{return t=e,void k.flytoView(t.center);var t}},null,8,I),[[f,_.found]]),c("p",null,p(e.name),1),b(m(w,{icon:"delete",class:"deleteImg",color:"#f2f2f2",onClick:e=>(e=>{if(_.imgObject.splice(e,1),0===_.imgObject.length)return _.imgObject=[{name:"没有匹配的值",img:"",center:""}],_.found=!1,void localStorage.removeItem("bookmark");localStorage.setItem("bookmark",JSON.stringify(_.imgObject))})(a)},null,8,["onClick"]),[[f,_.found]])],2)))),128))])])),_:1})}}}),[["__scopeId","data-v-fdfde288"]]);export{_ as default};
