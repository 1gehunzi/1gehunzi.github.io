import{_ as a,m as l,u as e,x as s,r as t,o as n,q as u,z as r,a as o,f as c,i as d,w as i,t as v,j as f,A as p,Y as m,p as g,l as _}from"./common.10acb102.js";import{e as b}from"./style.795f3750.js";const h=a=>(g("data-v-6c14768c"),a=a(),_(),a),k={class:"arcgis-contain"},w={class:"f-mb"},y=h((()=>o("span",null,"名称",-1))),C={class:"f-mb"},x=h((()=>o("span",null,"范围",-1))),I={class:"f-mb"},P=h((()=>o("span",null,"操作",-1))),j={class:"f-mb"},q={class:"f-mb querybar-fr"};var S=a(l({__name:"index",setup(a){const l=window.mapWork,g=e(""),_=e(0),h=e(0),S=e(0),T=s((()=>z.value.length>0)),z=e([]),A=e([{title:"名称",dataIndex:"name",key:"name",align:"center"},{title:"类型",dataIndex:"type",key:"type",align:"center",width:50},{title:"地址",dataIndex:"address",key:"address",align:"center"}]);l.eventTarget.on("beforUI",(function(a){z.value=[],a.list.forEach(((a,l)=>{z.value.push({key:l,name:a["项目名称"],type:a["设施类型"],address:a["具体位置"],graphic:a.graphic})}))})),l.eventTarget.on("result",(a=>{_.value=a.result.allCount,S.value=a.result.allPage,h.value=a.result.pageIndex}));const U=a=>({onClick:()=>{null!=a.graphic?l.flyToGraphic(m(a.graphic)):b(a.name+" 无经纬度坐标信息！")}}),E=()=>{l.drawRectangle()},F=()=>{l.drawCircle()},G=()=>{l.drawPolygon()},N=()=>{l.query(m(g.value))},R=()=>{z.value=[],l.clearAll()},W=()=>{l.showFirstPage()},Y=()=>{l.showPretPage()},B=()=>{l.showNextPage()};return(a,l)=>{const e=t("mars-input"),s=t("a-space"),m=t("mars-button"),b=t("mars-table"),D=t("a-form"),H=t("mars-dialog");return n(),u(H,{visible:!0,right:"10",top:"10",width:"360"},{default:r((()=>[o("div",k,[c(D,null,{default:r((()=>[o("div",w,[c(s,null,{default:r((()=>[y,c(e,{class:"inputServe",value:g.value,"onUpdate:value":l[0]||(l[0]=a=>g.value=a),placeholder:"请输入查询关键字"},null,8,["value"])])),_:1})]),o("div",C,[c(s,null,{default:r((()=>[x,c(m,{onClick:E},{default:r((()=>[d(" 框选范围 ")])),_:1}),c(m,{onClick:F},{default:r((()=>[d("圆形范围")])),_:1}),c(m,{onClick:G},{default:r((()=>[d("多边形范围")])),_:1})])),_:1})]),o("div",I,[c(s,null,{default:r((()=>[P,c(m,{onClick:N},{default:r((()=>[d("查询")])),_:1}),c(m,{onClick:R},{default:r((()=>[d("清除")])),_:1})])),_:1})]),i(o("div",null,[o("div",j,[c(b,{pagination:!1,dataSource:z.value,columns:A.value,"custom-row":U,size:"small",bordered:""},null,8,["dataSource","columns"])]),o("div",q,[c(s,null,{default:r((()=>[o("span",null,"找到"+v(_.value)+"条结果",1),d(" 第"+v(h.value)+"/"+v(S.value)+"页 ",1),c(m,{class:"button",onClick:W},{default:r((()=>[d("首页")])),_:1}),c(m,{class:"button",onClick:Y},{default:r((()=>[d("<")])),_:1}),c(m,{class:"button",onClick:B},{default:r((()=>[d(">")])),_:1})])),_:1})])],512),[[f,p(T)]])])),_:1})])])),_:1})}}}),[["__scopeId","data-v-6c14768c"]]);export{S as default};
