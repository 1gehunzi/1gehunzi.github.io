import{_ as a,m as e,S as l,r as n,o as d,q as u,z as t,f as o,i,w as s,a as r,j as m}from"./common.10acb102.js";import{f as v}from"./style.0a538c9f.js";var g=a(e({__name:"index",setup(a){const e=window.mapWork,g=l({radioFanwei:"1",radioFendai:"2",jd:0,wd:0,alt:0,jdDegree:0,jdMinute:0,jdSecond:0,wdDegree:0,wdMinute:0,wdSecond:0,gk6X:0,gk6Y:0});let c,f,j;e.eventTarget.on("loadCenterPoint",(function(a){const l=a.point;c=l.lng,f=l.lat,j=l.alt,g.jd=e.marsUtilFormtNum(c,6),g.wd=e.marsUtilFormtNum(f,6),g.alt=e.marsUtilFormtNum(j,6)}));const w=()=>{c=Number(g.jd),f=Number(g.wd),j=Number(g.alt)},p=()=>{c=e.marsDms2degree(g.jdDegree,g.jdMinute,g.jdSecond),f=e.marsDms2degree(g.wdDegree,g.wdMinute,g.wdSecond)},_=()=>{const a=e.marsZONEtoCRS(Number(g.gk6X),Number(g.gk6Y),g.radioFendai);c=a[0],f=a[1]},h=()=>{switch(g.radioFanwei){case"2":g.jdDegree=e.marsPointTrans(c).degree,g.jdMinute=e.marsPointTrans(c).minute,g.jdSecond=e.marsPointTrans(c).second,g.wdDegree=e.marsPointTrans(f).degree,g.wdMinute=e.marsPointTrans(f).minute,g.wdSecond=e.marsPointTrans(f).second;break;case"3":U();break;default:g.jd=e.marsUtilFormtNum(c,6),g.wd=e.marsUtilFormtNum(f,6)}},U=()=>{const a=e.marsProj4Trans(c,f,g.radioFendai);g.gk6X=e.marsUtilFormtNum(a[0],1),g.gk6Y=e.marsUtilFormtNum(a[1],1)},b=()=>{e.bindMourseClick()};e.eventTarget.on("clickMap",(a=>{c=a.point.lng,f=a.point.lat,j=a.point.alt,g.jd=e.marsUtilFormtNum(c,6),g.wd=e.marsUtilFormtNum(f,6),g.alt=e.marsUtilFormtNum(j,6),h(),e.updateMarker(!1,c,f,j)}));const F=()=>{g.jd>180||g.jd<-180?v("请输入有效的经度值！"):g.wd>90||g.wd<-90?v("请输入有效的纬度值！"):e.updateMarker(!0,c,f,j)};return(a,e)=>{const l=n("a-radio"),v=n("a-radio-group"),c=n("a-form-item"),f=n("mars-input"),j=n("a-space"),k=n("mars-button"),C=n("a-form"),N=n("mars-dialog");return d(),u(N,{visible:!0,right:"10",top:"10"},{default:t((()=>[o(C,null,{default:t((()=>[o(c,{label:"类型"},{default:t((()=>[o(v,{value:g.radioFanwei,"onUpdate:value":e[0]||(e[0]=a=>g.radioFanwei=a),onChange:h},{default:t((()=>[o(l,{value:"1"},{default:t((()=>[i("十进制")])),_:1}),o(l,{value:"2"},{default:t((()=>[i("度分秒")])),_:1}),o(l,{value:"3",title:"2000平面坐标"},{default:t((()=>[i("平面坐标")])),_:1})])),_:1},8,["value"])])),_:1}),s(r("div",null,[o(c,{label:"经度",class:"shijingzhi",onChange:w},{default:t((()=>[o(f,{value:g.jd,"onUpdate:value":e[1]||(e[1]=a=>g.jd=a)},null,8,["value"])])),_:1}),o(c,{label:"纬度",class:"shijingzhi"},{default:t((()=>[o(f,{value:g.wd,"onUpdate:value":e[2]||(e[2]=a=>g.wd=a),onChange:w},null,8,["value"])])),_:1}),o(c,{label:"高程",class:"shijingzhi"},{default:t((()=>[o(f,{value:g.alt,"onUpdate:value":e[3]||(e[3]=a=>g.alt=a),onChange:w},null,8,["value"])])),_:1})],512),[[m,"1"==g.radioFanwei]]),s(r("div",null,[o(c,{label:"经度"},{default:t((()=>[o(j,null,{default:t((()=>[o(f,{value:g.jdDegree,"onUpdate:value":e[4]||(e[4]=a=>g.jdDegree=a),class:"dufenmiao",onChange:p},null,8,["value"]),i("° "),o(f,{value:g.jdMinute,"onUpdate:value":e[5]||(e[5]=a=>g.jdMinute=a),class:"dufenmiao",onChange:p},null,8,["value"]),i("' "),o(f,{value:g.jdSecond,"onUpdate:value":e[6]||(e[6]=a=>g.jdSecond=a),class:"dufenmiao",onChange:p},null,8,["value"]),i('" ')])),_:1})])),_:1}),o(c,{label:"纬度"},{default:t((()=>[o(j,null,{default:t((()=>[o(f,{value:g.wdDegree,"onUpdate:value":e[7]||(e[7]=a=>g.wdDegree=a),class:"dufenmiao",onChange:p},null,8,["value"]),i("° "),o(f,{value:g.wdMinute,"onUpdate:value":e[8]||(e[8]=a=>g.wdMinute=a),class:"dufenmiao",onChange:p},null,8,["value"]),i("' "),o(f,{value:g.wdSecond,"onUpdate:value":e[9]||(e[9]=a=>g.wdSecond=a),class:"dufenmiao",onChange:p},null,8,["value"]),i('" ')])),_:1})])),_:1}),o(c,{label:"高程",class:"shijingzhi"},{default:t((()=>[o(f,{value:g.alt,"onUpdate:value":e[10]||(e[10]=a=>g.alt=a)},null,8,["value"])])),_:1})],512),[[m,"2"==g.radioFanwei]]),s(r("div",null,[o(c,{label:"分带"},{default:t((()=>[o(v,{value:g.radioFendai,"onUpdate:value":e[11]||(e[11]=a=>g.radioFendai=a),onChange:U},{default:t((()=>[o(l,{value:"1"},{default:t((()=>[i("三度带")])),_:1}),o(l,{value:"2"},{default:t((()=>[i("六度带")])),_:1})])),_:1},8,["value"])])),_:1}),o(c,{label:"纵坐标",class:"shijingzhi"},{default:t((()=>[o(f,{value:g.gk6X,"onUpdate:value":e[12]||(e[12]=a=>g.gk6X=a),onChange:_},null,8,["value"])])),_:1}),o(c,{label:"横坐标",class:"shijingzhi"},{default:t((()=>[o(f,{value:g.gk6Y,"onUpdate:value":e[13]||(e[13]=a=>g.gk6Y=a),onChange:_},null,8,["value"])])),_:1}),o(c,{label:"高度值",class:"shijingzhi"},{default:t((()=>[o(f,{value:g.alt,"onUpdate:value":e[14]||(e[14]=a=>g.alt=a),onChange:_},null,8,["value"])])),_:1})],512),[[m,"3"==g.radioFanwei]]),o(c,{class:"f-pt f-tac"},{default:t((()=>[o(j,null,{default:t((()=>[o(k,{onClick:b},{default:t((()=>[i("图上拾取")])),_:1}),o(k,{onClick:F},{default:t((()=>[i("坐标定位")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-3139906e"]]);export{g as default};
