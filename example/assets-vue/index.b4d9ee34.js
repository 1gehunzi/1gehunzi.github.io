import{d as a,r as e,aH as l,o as n,Y as d,b2 as u,a5 as t,a4 as o,b4 as i,_ as r,bn as s}from"./common.5a7f0626.js";import{_ as m,c as v}from"./read.03cd8dda.js";var g=m(a({__name:"index",setup(a){const m=window.mapWork,g=e({radioFanwei:"1",radioFendai:"2",jd:0,wd:0,alt:0,jdDegree:0,jdMinute:0,jdSecond:0,wdDegree:0,wdMinute:0,wdSecond:0,gk6X:0,gk6Y:0});let c,f,j;m.eventTarget.on("loadCenterPoint",(function(a){const e=a.point;c=e.lng,f=e.lat,j=e.alt,g.jd=m.marsUtilFormtNum(c,6),g.wd=m.marsUtilFormtNum(f,6),g.alt=m.marsUtilFormtNum(j,6)}));const w=()=>{c=Number(g.jd),f=Number(g.wd),j=Number(g.alt)},p=()=>{c=m.marsDms2degree(g.jdDegree,g.jdMinute,g.jdSecond),f=m.marsDms2degree(g.wdDegree,g.wdMinute,g.wdSecond)},_=()=>{const a=m.marsZONEtoCRS(Number(g.gk6X),Number(g.gk6Y),g.radioFendai);c=a[0],f=a[1]},h=()=>{switch(g.radioFanwei){case"2":g.jdDegree=m.marsPointTrans(c).degree,g.jdMinute=m.marsPointTrans(c).minute,g.jdSecond=m.marsPointTrans(c).second,g.wdDegree=m.marsPointTrans(f).degree,g.wdMinute=m.marsPointTrans(f).minute,g.wdSecond=m.marsPointTrans(f).second;break;case"3":U();break;default:g.jd=m.marsUtilFormtNum(c,6),g.wd=m.marsUtilFormtNum(f,6)}},U=()=>{const a=m.marsProj4Trans(c,f,g.radioFendai);g.gk6X=m.marsUtilFormtNum(a[0],1),g.gk6Y=m.marsUtilFormtNum(a[1],1)},b=()=>{m.bindMourseClick()};m.eventTarget.on("clickMap",(a=>{c=a.point.lng,f=a.point.lat,j=a.point.alt,g.jd=m.marsUtilFormtNum(c,6),g.wd=m.marsUtilFormtNum(f,6),g.alt=m.marsUtilFormtNum(j,6),h(),m.updateMarker(!1,c,f,j)}));const F=()=>{g.jd>180||g.jd<-180?v("请输入有效的经度值！"):g.wd>90||g.wd<-90?v("请输入有效的纬度值！"):m.updateMarker(!0,c,f,j)};return(a,e)=>{const m=l("a-radio"),v=l("a-radio-group"),c=l("a-form-item"),f=l("mars-input"),j=l("a-space"),k=l("mars-button"),C=l("a-form"),N=l("mars-dialog");return n(),d(N,{visible:!0,right:"10",top:"10"},{default:u((()=>[t(C,null,{default:u((()=>[t(c,{label:"类型"},{default:u((()=>[t(v,{value:g.radioFanwei,"onUpdate:value":e[0]||(e[0]=a=>g.radioFanwei=a),onChange:h},{default:u((()=>[t(m,{value:"1"},{default:u((()=>[o("十进制")])),_:1}),t(m,{value:"2"},{default:u((()=>[o("度分秒")])),_:1}),t(m,{value:"3",title:"2000平面坐标"},{default:u((()=>[o("平面坐标")])),_:1})])),_:1},8,["value"])])),_:1}),i(r("div",null,[t(c,{label:"经度",class:"shijingzhi",onChange:w},{default:u((()=>[t(f,{value:g.jd,"onUpdate:value":e[1]||(e[1]=a=>g.jd=a)},null,8,["value"])])),_:1}),t(c,{label:"纬度",class:"shijingzhi"},{default:u((()=>[t(f,{value:g.wd,"onUpdate:value":e[2]||(e[2]=a=>g.wd=a),onChange:w},null,8,["value"])])),_:1}),t(c,{label:"高程",class:"shijingzhi"},{default:u((()=>[t(f,{value:g.alt,"onUpdate:value":e[3]||(e[3]=a=>g.alt=a),onChange:w},null,8,["value"])])),_:1})],512),[[s,"1"==g.radioFanwei]]),i(r("div",null,[t(c,{label:"经度"},{default:u((()=>[t(j,null,{default:u((()=>[t(f,{value:g.jdDegree,"onUpdate:value":e[4]||(e[4]=a=>g.jdDegree=a),class:"dufenmiao",onChange:p},null,8,["value"]),o("° "),t(f,{value:g.jdMinute,"onUpdate:value":e[5]||(e[5]=a=>g.jdMinute=a),class:"dufenmiao",onChange:p},null,8,["value"]),o("' "),t(f,{value:g.jdSecond,"onUpdate:value":e[6]||(e[6]=a=>g.jdSecond=a),class:"dufenmiao",onChange:p},null,8,["value"]),o('" ')])),_:1})])),_:1}),t(c,{label:"纬度"},{default:u((()=>[t(j,null,{default:u((()=>[t(f,{value:g.wdDegree,"onUpdate:value":e[7]||(e[7]=a=>g.wdDegree=a),class:"dufenmiao",onChange:p},null,8,["value"]),o("° "),t(f,{value:g.wdMinute,"onUpdate:value":e[8]||(e[8]=a=>g.wdMinute=a),class:"dufenmiao",onChange:p},null,8,["value"]),o("' "),t(f,{value:g.wdSecond,"onUpdate:value":e[9]||(e[9]=a=>g.wdSecond=a),class:"dufenmiao",onChange:p},null,8,["value"]),o('" ')])),_:1})])),_:1}),t(c,{label:"高程",class:"shijingzhi"},{default:u((()=>[t(f,{value:g.alt,"onUpdate:value":e[10]||(e[10]=a=>g.alt=a)},null,8,["value"])])),_:1})],512),[[s,"2"==g.radioFanwei]]),i(r("div",null,[t(c,{label:"分带"},{default:u((()=>[t(v,{value:g.radioFendai,"onUpdate:value":e[11]||(e[11]=a=>g.radioFendai=a),onChange:U},{default:u((()=>[t(m,{value:"1"},{default:u((()=>[o("三度带")])),_:1}),t(m,{value:"2"},{default:u((()=>[o("六度带")])),_:1})])),_:1},8,["value"])])),_:1}),t(c,{label:"纵坐标",class:"shijingzhi"},{default:u((()=>[t(f,{value:g.gk6X,"onUpdate:value":e[12]||(e[12]=a=>g.gk6X=a),onChange:_},null,8,["value"])])),_:1}),t(c,{label:"横坐标",class:"shijingzhi"},{default:u((()=>[t(f,{value:g.gk6Y,"onUpdate:value":e[13]||(e[13]=a=>g.gk6Y=a),onChange:_},null,8,["value"])])),_:1}),t(c,{label:"高度值",class:"shijingzhi"},{default:u((()=>[t(f,{value:g.alt,"onUpdate:value":e[14]||(e[14]=a=>g.alt=a),onChange:_},null,8,["value"])])),_:1})],512),[[s,"3"==g.radioFanwei]]),t(c,{class:"f-pt f-tac"},{default:u((()=>[t(j,null,{default:u((()=>[t(k,{onClick:b},{default:u((()=>[o("图上拾取")])),_:1}),t(k,{onClick:F},{default:u((()=>[o("坐标定位")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-3139906e"]]);export{g as default};
