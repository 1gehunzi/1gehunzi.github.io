import{_ as e,m as t,S as a,aI as o,r as n,o as s,q as i,z as c,a as m,f as l,i as r,c as g,F as u,b as d,d as f,w as b,j as p,t as j}from"./common.10acb102.js";import{e as k}from"./style.795f3750.js";const O={class:"f-mb f-tac"},v={class:"bookmarkView"},I=["src","onClick"];var h=e(t({__name:"index",setup(e){const t=window.mapWork,h=a({input:"",found:!1,imgObject:[{name:"没有匹配的值",img:"",center:""}]});o((()=>{!function(){try{const e=JSON.parse(localStorage.getItem("bookmark"));if(e&&e.length>0){console.log("历史数据",e);for(let t=0;t<e.length;t++){const a=e[t];""===h.imgObject[0].img&&(h.imgObject.splice(0,1),h.found=!0),h.imgObject.push(a)}}}catch(e){}}()}));const S=()=>{const e=h.input,a=h.imgObject;e?(""===a[0].img&&(h.imgObject.splice(0,1),h.found=!0),h.imgObject.some((t=>t.name===e))?k(e+" 已存在，请更换名称!"):(t.butAddTxtName(e),h.input="")):k("请输入名称")};t.eventTarget.on("addImgObject",(e=>{h.imgObject.push(e.item),localStorage.setItem("bookmark",JSON.stringify(h.imgObject))}));return(e,a)=>{const o=n("mars-input"),k=n("mars-button"),_=n("a-space"),w=n("mars-icon"),y=n("mars-dialog");return s(),i(y,{visible:!0,right:"10",top:"10",bottom:"40"},{default:c((()=>[m("div",O,[l(_,null,{default:c((()=>[l(o,{value:h.input,"onUpdate:value":a[0]||(a[0]=e=>h.input=e),placeholder:"输入名称"},null,8,["value"]),l(k,{onClick:S},{default:c((()=>[r("添加")])),_:1})])),_:1})]),m("div",v,[(s(!0),g(u,null,d(h.imgObject,((e,a)=>(s(),g("div",{class:f(h.found?"addNewImg":"noFound"),key:e.name},[b(m("img",{class:"markImg",src:e.img,onClick:a=>{return o=e,void t.flytoView(o.center);var o}},null,8,I),[[p,h.found]]),m("p",null,j(e.name),1),b(l(w,{icon:"delete",class:"deleteImg",color:"#f2f2f2",onClick:e=>(e=>{if(h.imgObject.splice(e,1),0===h.imgObject.length)return h.imgObject=[{name:"没有匹配的值",img:"",center:""}],h.found=!1,void localStorage.removeItem("bookmark");localStorage.setItem("bookmark",JSON.stringify(h.imgObject))})(a)},null,8,["onClick"]),[[p,h.found]])],2)))),128))])])),_:1})}}}),[["__scopeId","data-v-fdfde288"]]);export{h as default};
