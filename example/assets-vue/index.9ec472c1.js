import{_ as e,m as l,S as t,u as a,r as s,o,c as d,f as u,z as n,a as i,w as f,i as c,j as p,q as h,h as m,F as r}from"./common.10acb102.js";import{f as v}from"./fixedRoute-info.0b31cf78.js";const w={class:"f-mb f-tac"},_={class:"f-mb"},g={class:"f-mb"},R={class:"f-mb"},S={class:"f-mb"};var k=e(l({__name:"index",setup(e){const l=window.mapWork,k=t({isStart:!1,isPause:!1,select:"gs",showFollowedX:"1",showFollowedZ:"",followedX:0,followedZ:0,offsetZ:0,offsetY:0,offsetX:0,customHeading:!1,slideHeadingStep:0,customPitch:!1,slidePitchStep:0,customRoll:!1,slideRollStep:0}),x=()=>{l.fixedRoute.start(),Z()},b=()=>{l.fixedRoute.pause(),Z()},C=()=>{l.fixedRoute.proceed(),Z()},P=()=>{l.fixedRoute.stop(),Z()};function Z(){setTimeout((()=>{k.isStart=l.fixedRoute.isStart,k.isPause=l.fixedRoute.isPause}),100)}const y=a([{value:"",label:"自由视角"},{value:"gs",label:"跟随视角"},{value:"dy",label:"锁定第一视角"},{value:"sd",label:"锁定上帝视角"}]),X=()=>{switch(k.showFollowedX="",k.showFollowedZ="",k.select){case"gs":k.showFollowedX="1";break;case"dy":k.showFollowedX="1",k.showFollowedZ="1",k.followedX=200,k.followedZ=50,k.offsetZ=0,k.offsetY=0,k.offsetX=0;break;case"sd":k.showFollowedZ="1";Number(k.followedZ)<500&&(k.followedZ=500);break}l.updateCameraSetting(k)},F=()=>{l.updateCameraSetting(k)},U=()=>{k.customHeading?l.fixedRoute.model.heading=k.slideHeadingStep:l.fixedRoute.model.heading=void 0},H=()=>{l.fixedRoute.model.heading=k.slideHeadingStep},Y=()=>{k.customPitch?l.fixedRoute.model.pitch=k.slidePitchStep:l.fixedRoute.model.pitch=void 0},j=()=>{l.fixedRoute.model.pitch=k.slidePitchStep},q=()=>{k.customPitch?l.fixedRoute.model.roll=k.slideRollStep:l.fixedRoute.model.roll=void 0},z=()=>{l.fixedRoute.model.roll=k.slideRollStep};return(e,l)=>{const t=s("mars-button"),a=s("a-space"),Z=s("a-col"),I=s("mars-select"),N=s("mars-input-number"),T=s("a-row"),W=s("mars-switch"),A=s("mars-slider"),B=s("mars-dialog");return o(),d(r,null,[u(B,{visible:!0,width:"300",right:"10",top:"10"},{default:n((()=>[i("div",w,[u(a,null,{default:n((()=>[f(u(t,{onClick:x},{default:n((()=>[c("开始")])),_:1},512),[[p,!k.isStart]]),f(u(t,{onClick:b},{default:n((()=>[c("暂停")])),_:1},512),[[p,k.isStart&&!k.isPause]]),f(u(t,{onClick:C},{default:n((()=>[c("继续")])),_:1},512),[[p,k.isStart&&k.isPause]]),f(u(t,{onClick:P},{default:n((()=>[c("停止")])),_:1},512),[[p,k.isStart]])])),_:1})]),i("div",_,[u(T,{gutter:[0,10]},{default:n((()=>[u(Z,{span:8},{default:n((()=>[c("漫游视角:")])),_:1}),u(Z,{span:11},{default:n((()=>[u(I,{onChange:X,value:k.select,"onUpdate:value":l[0]||(l[0]=e=>k.select=e),options:y.value},null,8,["value","options"])])),_:1}),f(u(Z,{span:8,title:"距离漫游对象的水平距离，单位：米"},{default:n((()=>[c("视角距离:")])),_:1},512),[[p,"1"===k.showFollowedX]]),f(u(Z,{span:11},{default:n((()=>[u(N,{onChange:F,value:k.followedX,"onUpdate:value":l[1]||(l[1]=e=>k.followedX=e),step:1},null,8,["value"])])),_:1},512),[[p,"1"===k.showFollowedX]]),f(u(Z,{span:8,title:"距离漫游对象的高度，单位：米"},{default:n((()=>[c("视角高度:")])),_:1},512),[[p,"1"===k.showFollowedZ]]),f(u(Z,{span:11},{default:n((()=>[u(N,{onChange:F,value:k.followedZ,"onUpdate:value":l[2]||(l[2]=e=>k.followedZ=e),step:1},null,8,["value"])])),_:1},512),[[p,"1"===k.showFollowedZ]]),f(u(Z,{span:8,title:"偏离漫游对象的高度，单位：米"},{default:n((()=>[c("高度偏移值:")])),_:1},512),[[p,"dy"===k.select]]),f(u(Z,{span:11},{default:n((()=>[u(N,{onChange:F,value:k.offsetZ,"onUpdate:value":l[3]||(l[3]=e=>k.offsetZ=e),step:1},null,8,["value"])])),_:1},512),[[p,"dy"===k.select]]),f(u(Z,{span:8,title:"偏离漫游对象的横向值，单位：米"},{default:n((()=>[c("横向偏移值:")])),_:1},512),[[p,"dy"===k.select]]),f(u(Z,{span:11},{default:n((()=>[u(N,{onChange:F,value:k.offsetY,"onUpdate:value":l[4]||(l[4]=e=>k.offsetY=e),step:1},null,8,["value"])])),_:1},512),[[p,"dy"===k.select]]),f(u(Z,{span:8,title:"偏离漫游对象的前后值，单位：米"},{default:n((()=>[c("前后偏移值:")])),_:1},512),[[p,"dy"===k.select]]),f(u(Z,{span:11},{default:n((()=>[u(N,{onChange:F,value:k.offsetX,"onUpdate:value":l[5]||(l[5]=e=>k.offsetX=e),step:1},null,8,["value"])])),_:1},512),[[p,"dy"===k.select]])])),_:1})]),i("div",g,[u(T,{gutter:[0,10]},{default:n((()=>[u(Z,{span:8},{default:n((()=>[c("heading值:")])),_:1}),u(Z,{span:5},{default:n((()=>[u(W,{checked:k.customHeading,"onUpdate:checked":l[6]||(l[6]=e=>k.customHeading=e),onChange:U},null,8,["checked"])])),_:1}),k.customHeading?(o(),h(Z,{key:0,span:6},{default:n((()=>[u(A,{class:"sliderlen",onChange:H,value:k.slideHeadingStep,"onUpdate:value":l[7]||(l[7]=e=>k.slideHeadingStep=e),min:0,max:360,step:.01},null,8,["value","step"])])),_:1})):m("",!0),k.customHeading?m("",!0):(o(),h(Z,{key:1,span:8},{default:n((()=>[c(" 根据路线自动 ")])),_:1}))])),_:1})]),i("div",R,[u(T,{gutter:[0,10]},{default:n((()=>[u(Z,{span:8},{default:n((()=>[c("pitch值:")])),_:1}),u(Z,{span:5},{default:n((()=>[u(W,{checked:k.customPitch,"onUpdate:checked":l[8]||(l[8]=e=>k.customPitch=e),onChange:Y},null,8,["checked"])])),_:1}),k.customPitch?(o(),h(Z,{key:0,span:6},{default:n((()=>[u(A,{class:"sliderlen",onChange:j,value:k.slidePitchStep,"onUpdate:value":l[9]||(l[9]=e=>k.slidePitchStep=e),min:0,max:360,step:.01},null,8,["value","step"])])),_:1})):m("",!0),k.customPitch?m("",!0):(o(),h(Z,{key:1,span:8},{default:n((()=>[c(" 根据路线自动 ")])),_:1}))])),_:1})]),i("div",S,[u(T,{gutter:[0,10]},{default:n((()=>[u(Z,{span:8},{default:n((()=>[c("roll值:")])),_:1}),u(Z,{span:5},{default:n((()=>[u(W,{checked:k.customRoll,"onUpdate:checked":l[10]||(l[10]=e=>k.customRoll=e),onChange:q},null,8,["checked"])])),_:1}),k.customRoll?(o(),h(Z,{key:0,span:6},{default:n((()=>[u(A,{class:"sliderlen",onChange:z,value:k.slideRollStep,"onUpdate:value":l[11]||(l[11]=e=>k.slideRollStep=e),min:0,max:360,step:.01},null,8,["value","step"])])),_:1})):m("",!0),k.customRoll?m("",!0):(o(),h(Z,{key:1,span:8},{default:n((()=>[c(" 根据路线自动 ")])),_:1}))])),_:1})])])),_:1}),u(v)],64)}}}),[["__scopeId","data-v-9b0963ac"]]);export{k as default};
